{% extends 'layout.html' %}

{% block title %}
    Admin Dashboard
{% endblock %}

{% block content %}
<h1 class="display-1">Admin Dashboard</h1>

<div class="sections_add">
    <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-start">
                <div><br>
                    <h2 class="display-2">Book Sections:</h2>
                </div>
            </div>
            <div>
                <br>
                <div>
                    <a href="{{url_for('add_section')}}" class="btn btn-success" style="margin-top:30px; border-radius:30px; font-size:20px">
                        <i class="fas fa-plus    "></i> 
                        Add
                    </a>
                    <a href="{{url_for('admin_stats')}}" class="btn btn-success" style="margin-top:30px; border-radius:30px; font-size:20px">
                        <i class="fa fa-bar-chart" aria-hidden="true"></i>
                        Statistics
                    </a>
                    <a href="{{url_for('approvals')}}" class="btn btn-success" style="margin-top:30px; border-radius:30px; font-size:20px">
                        <i class="fa fa-th-list" aria-hidden="true"></i>
                        Approvals
                    </a>
                    <a href="{{url_for('admin_author')}}" class="btn btn-success" style="margin-top:30px; border-radius:30px; font-size:20px">
                        <i class="fa fa-list-ul" aria-hidden="true"></i>
                        Author's Books
                    </a>
                    <a href="{{url_for('user_list')}}" class="btn btn-success" style="margin-top:30px; border-radius:30px; font-size:20px">
                        <i class="fa fa-address-book" aria-hidden="true"></i>
                        Users List
                    </a>
                </div>
            </div>
    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>Section ID</th>
            <th>Section Name</th>
            <th>Section Desc</th>
            <th>Section Created On</th>
            <th># of Books</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for section in sections %}
        <tr>
            <td>{{section.id}}</td>
            <td>{{section.name}}</td>
            <td>{{section.desc}}</td>
            <td>{{section.date_created}}</td>
            <td>{{section.books|length}}</td>
            <td>
                <a href="{{url_for('show_section', id=section.id)}}" class="btn btn-primary" style="border-radius:30px">
                    <i class="fas fa-eye" aria-hidden="true"   ></i>
                    Show
                </a>
                <a href="{{url_for('edit_section', id=section.id)}}" class="btn btn-warning" style="border-radius:30px">
                    <i class="fas fa-edit    "></i>
                    Edit
                </a>
                <a href="{{url_for('delete_section', id=section.id)}}" class="btn btn-danger" style="border-radius:30px">
                    <i class="fas fa-trash    "></i>
                    Delete
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="totals" align="right">
    <span class="badge badge-pill" style="border-radius:30px;background:rgb(0, 88, 150)"> Total Book Sections: {{ sections|length }}</span>
</div>
{% endblock %}